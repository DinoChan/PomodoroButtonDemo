<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PomodoroButtonDemo">

   

    <Style TargetType="local:PomodoroStateButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:PomodoroStateButton">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:3">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <CubicEase EasingMode="EaseOut" />
                                        </VisualTransition.GeneratedEasingFunction>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="PointerOver">
                                    <!--<VisualState.Setters>
                                        <Setter Target="PointOverElement.(UIElement.Opacity)"
                                                Value="1" />
                                    </VisualState.Setters>-->
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <!--<VisualState.Setters>
                                        <Setter Target="PressElement.(UIElement.Opacity)"
                                                Value="1" />
                                    </VisualState.Setters>-->
                                </VisualState>
                                <VisualState x:Name="Disabled" />
                            </VisualStateGroup>

                            <VisualStateGroup x:Name="ProgressStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:3">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <CubicEase EasingMode="EaseOut" />
                                        </VisualTransition.GeneratedEasingFunction>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Idle" />
                                <VisualState x:Name="Busy">
                                    <VisualState.Setters>
                                        <Setter Target="ProgressToPointCollectionBridge.Progress"
                                                Value="1" />
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>

                            <VisualStateGroup x:Name="PromodoroStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:3">
                                        <VisualTransition.GeneratedEasingFunction>
                                            <CubicEase EasingMode="EaseOut" />
                                        </VisualTransition.GeneratedEasingFunction>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Inwork" />
                                <VisualState x:Name="Break">
                                    <!--<VisualState.Setters>
                                        <Setter Target="PointOverElement.(UIElement.Opacity)"
                                                Value="1" />
                                    </VisualState.Setters>-->
                                </VisualState>
                            </VisualStateGroup>

                        </VisualStateManager.VisualStateGroups>
                        <Border.Resources>
                            <local:ProgressToPointCollectionBridge x:Name="ProgressToPointCollectionBridge"
                                           Progress="0">
                                <PointCollection>92,48 89.8787878787879,49.1515151515151 87.7575757575758,50.3030303030303 85.6363636363636,51.4545454545455 83.5151515151515,52.6060606060606 81.3939393939394,53.7575757575758 79.2727272727273,54.9090909090909 77.1515151515152,56.0606060606061 75.030303030303,57.2121212121212 72.9090909090909,58.3636363636364 70.7878787878788,59.5151515151515 68.6666666666667,60.6666666666667 66.5454545454545,61.8181818181818 64.4242424242424,62.969696969697 62.3030303030303,64.1212121212121 60.1818181818182,65.2727272727273 58.0606060606061,66.4242424242424 55.9393939393939,67.5757575757576 53.8181818181818,68.7272727272727 51.6969696969697,69.8787878787879 49.5757575757576,71.030303030303 47.4545454545455,72.1818181818182 45.3333333333333,73.3333333333333 43.2121212121212,74.4848484848485 41.0909090909091,75.6363636363636 38.969696969697,76.7878787878788 36.8484848484848,77.9393939393939 34.7272727272727,79.0909090909091 32.6060606060606,80.2424242424242 30.4848484848485,81.3939393939394 28.3636363636364,82.5454545454545 26.2424242424242,83.6969696969697 24.1212121212121,84.8484848484848 22,86 22,83.6969696969697 22,81.3939393939394 22,79.0909090909091 22,76.7878787878788 22,74.4848484848485 22,72.1818181818182 22,69.8787878787879 22,67.5757575757576 22,65.2727272727273 22,62.969696969697 22,60.6666666666667 22,58.3636363636364 22,56.0606060606061 22,53.7575757575758 22,51.4545454545455 22,49.1515151515151 22,46.8484848484848 22,44.5454545454545 22,42.2424242424242 22,39.9393939393939 22,37.6363636363636 22,35.3333333333333 22,33.030303030303 22,30.7272727272727 22,28.4242424242424 22,26.1212121212121 22,23.8181818181818 22,21.5151515151515 22,19.2121212121212 22,16.9090909090909 22,14.6060606060606 22,12.3030303030303 22,10 24.0588235294118,11.1176470588235 26.1176470588235,12.2352941176471 28.1764705882353,13.3529411764706 30.2352941176471,14.4705882352941 32.2941176470588,15.5882352941176 34.3529411764706,16.7058823529412 36.4117647058824,17.8235294117647 38.4705882352941,18.9411764705882 40.5294117647059,20.0588235294118 42.5882352941177,21.1764705882353 44.6470588235294,22.2941176470588 46.7058823529412,23.4117647058824 48.7647058823529,24.5294117647059 50.8235294117647,25.6470588235294 52.8823529411765,26.7647058823529 54.9411764705882,27.8823529411765 57,29 59.0588235294118,30.1176470588235 61.1176470588235,31.2352941176471 63.1764705882353,32.3529411764706 65.2352941176471,33.4705882352941 67.2941176470588,34.5882352941176 69.3529411764706,35.7058823529412 71.4117647058823,36.8235294117647 73.4705882352941,37.9411764705882 75.5294117647059,39.0588235294118 77.5882352941177,40.1764705882353 79.6470588235294,41.2941176470588 81.7058823529412,42.4117647058824 83.7647058823529,43.5294117647059 85.8235294117647,44.6470588235294 87.8823529411765,45.7647058823529 89.9411764705882,46.8823529411765</PointCollection>
                                <PointCollection>96,48 95.905282964557,51.013944937407 95.6215056630949,54.0159952110866 95.1497880349771,56.9943031001148 94.4919917341743,59.937114583913 93.6507127821674,62.8328157299975 92.6292713226361,65.6699785288645 91.4316985183689,68.4374059951235 90.0627206421055,71.1241763568823 88.5277404240967,73.7196861589918 86.8328157299975,76.2136921100387 84.9846356532379,78.5963515079371 82.9904941162278,80.8582610845771 80.8582610845771,82.9904941162278 78.5963515079371,84.9846356532379 76.2136921100387,86.8328157299975 73.7196861589918,88.5277404240967 71.1241763568823,90.0627206421055 68.4374059951235,91.4316985183689 65.6699785288645,92.6292713226361 62.8328157299975,93.6507127821674 59.937114583913,94.4919917341743 56.9943031001148,95.1497880349771 54.0159952110866,95.6215056630949 51.013944937407,95.905282964557 48,96 44.986055062593,95.905282964557 41.9840047889134,95.6215056630949 39.0056968998852,95.1497880349771 36.062885416087,94.4919917341743 33.1671842700025,93.6507127821674 30.3300214711355,92.6292713226361 27.5625940048765,91.4316985183689 24.8758236431177,90.0627206421054 22.2803138410082,88.5277404240967 19.7863078899613,86.8328157299975 17.4036484920629,84.9846356532379 15.1417389154229,82.9904941162278 13.0095058837723,80.8582610845771 11.0153643467621,78.5963515079371 9.16718427000253,76.2136921100387 7.47225957590329,73.7196861589919 5.93727935789455,71.1241763568823 4.56830148163107,68.4374059951235 3.37072867736394,65.6699785288645 2.34928721783263,62.8328157299975 1.50800826582572,59.9371145839131 0.850211965022943,56.9943031001148 0.378494336905064,54.0159952110866 0.0947170354429687,51.0139449374071 0,48 0.0947170354429687,44.986055062593 0.378494336905064,41.9840047889134 0.85021196502295,39.0056968998852 1.5080082658257,36.062885416087 2.34928721783263,33.1671842700025 3.37072867736393,30.3300214711355 4.56830148163105,27.5625940048765 5.93727935789455,24.8758236431177 7.47225957590327,22.2803138410082 9.16718427000251,19.7863078899613 11.0153643467621,17.4036484920629 13.0095058837722,15.141738915423 15.1417389154229,13.0095058837722 17.4036484920629,11.0153643467621 19.7863078899613,9.16718427000253 22.2803138410082,7.47225957590327 24.8758236431177,5.93727935789455 27.5625940048765,4.56830148163105 30.3300214711355,3.37072867736393 33.1671842700025,2.34928721783263 36.062885416087,1.5080082658257 39.0056968998852,0.850211965022943 41.9840047889134,0.378494336905064 44.986055062593,0.0947170354429687 48,0 51.013944937407,0.0947170354429687 54.0159952110866,0.378494336905064 56.9943031001148,0.850211965022943 59.937114583913,1.50800826582571 62.8328157299975,2.34928721783263 65.6699785288645,3.37072867736393 68.4374059951234,4.56830148163105 71.1241763568824,5.93727935789456 73.7196861589918,7.47225957590328 76.2136921100387,9.16718427000252 78.5963515079371,11.0153643467621 80.858261084577,13.0095058837722 82.9904941162277,15.1417389154229 84.9846356532379,17.4036484920629 86.8328157299975,19.7863078899613 88.5277404240967,22.2803138410081 90.0627206421054,24.8758236431176 91.4316985183689,27.5625940048765 92.6292713226361,30.3300214711355 93.6507127821674,33.1671842700025 94.4919917341743,36.0628854160869 95.1497880349771,39.0056968998852 95.6215056630949,41.9840047889134 95.905282964557,44.986055062593</PointCollection>
                                <PointCollection>96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 96,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,96 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 0,00 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0 96,0</PointCollection>
                            </local:ProgressToPointCollectionBridge>

                        </Border.Resources>
                        <Grid>
                            <Polygon Points="{Binding Source={StaticResource ProgressToPointCollectionBridge},Path=Points}"
                                     Fill="{TemplateBinding Foreground}"
                                     Stroke="{TemplateBinding BorderBrush}"
                                     StrokeThickness="4"
                                     Stretch="Uniform"
                                     Height="96"
                                     StrokeEndLineCap="Round"
                                     Width="96" />      
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
